---
title: Nacos配置中心
linktitle: Nacos配置中心
toc: true
type: docs
date: "2020-08-17T00:00:00+01:00"
draft: false
menu:
  cloud-albaba:
    parent: Spring-Cloud-Alibaba-Necos
    weight: 4
---


## 新建项目

`cloudalibaba-config-nacos-client3377`


## pom

```xml
<dependency>
            <groupId>com.alibaba.cloud</groupId>
            <artifactId>spring-cloud-starter-alibaba-nacos-config</artifactId>
        </dependency>
```


## 公式

${spring.application.name}-${spring.profile.active}.${spring.cloud.nacos.config.file-extension}
![](/img/cloudAlibaba/2.jpg)

## 添加配置

![](/img/cloudAlibaba/3.jpg)

## yml

bootstrap.yml
```
server:
  port: 3377
spring:
  application:
    name: nacos-config-client
  cloud:
    nacos:
      discovery:
        server-addr: localhost:8848 
      config:
        server-addr: localhost:8848 
        file-extension: yml 

```
application.yml

```
spring:
  profiles:
    active: dev 
```
## controller

```java
package com.nacos.config.controller;

import org.springframework.beans.factory.annotation.Value;
import org.springframework.cloud.context.config.annotation.RefreshScope;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RestController;

/**
 *
 * @author yzg
 * @version 1.0
 * @create 2020/08/17
 */
@RestController
@RefreshScope // 支持nacos的动态刷新
public class ConfigClientController {
    @Value("${config.info}")
    private String configInfo;

    @GetMapping("/config/info")
    public String getConfigInfo(){
        return configInfo;
    }
}


```


## 启动类

```java
package com.nacos.config;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.cloud.client.discovery.EnableDiscoveryClient;

@SpringBootApplication
@EnableDiscoveryClient
public class NacosConfigCilent3377 {
    public static void main(String[] args) {
        SpringApplication.run(NacosConfigCilent3377.class, args);
    }
}



```
## 测试
![](/img/cloudAlibaba/4.jpg)

